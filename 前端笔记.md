# 前端笔记

## ES6使用require引入图片

静态路径引入

```js
var imgUrl = require('../images/001.png');
```

不能使用动态路径引入图片，会报错

```js
var ImgSrc = "../images/001.png";
var img = require(ImgSrc)
```

因为require是打包工具所需要的标识，你写成运行时通过变量定义，是无法获取到，没办法打包。

require()写入的必须是path

```js
 1. var imgSrc = "001.png";
require("../../asset/images/" + imgSrc);
 2. var imgName = "001";
require(`../../asset/images/${imgName}.png`);
```



## forin的循环顺序

不一定根据定义时的顺数输出，所有浏览器的最新版本现在都按chrome执行，先把当中的非负整数键提出来，排序好输出，然后将剩下的定义时的顺序输出。



## tabIndex

**tabindex**指示其元素是否可以聚焦，以及它是否/在何处参与顺序键盘导航（通常使用Tab键，因此得名）。

它接受一个整数作为值，具有不同的结果，具体取决于整数的值：

- tabindex=负值 (通常是tabindex=“-1”)，表示元素是可聚焦的，但是不能通过键盘导航来访问到该元素，用JS做页面小组件内部键盘导航的时候非常有用。
- `tabindex="0"` ，表示元素是可聚焦的，并且可以通过键盘导航来聚焦到该元素，它的相对顺序是当前处于的DOM结构来决定的。
- tabindex=正值，表示元素是可聚焦的，并且可以通过键盘导航来访问到该元素；它的相对顺序按照**tabindex** 的数值递增而滞后获焦。如果多个元素拥有相同的 **tabindex**，它们的相对顺序按照他们在当前DOM中的先后顺序决定。



## 事件循环

浏览器是多线程的，但是JS是异步单线程

1. **GUI渲染线程（DOM/BOM）**
2. **JS引擎线程（web worker）**
3. **浏览器事件线程（onclick）**
4. 定时器触发线程
5. http异步线程
6. EventLoop（事件循环）处理线程

```html
<body>
  <button id="button">button</button>
  <script>
    const button=document.getElementById("button");
    button.addEventListener("click",()=>{
      Promise.resolve().then(()=>{console.log('m1');})
      console.log('l1');
    })
    button.addEventListener("click",()=>{
      Promise.resolve().then(()=>{console.log('m2');})
      console.log('l2');
    })
  </script>
</body>
// l1
// m1 
// l2
// m2
```

```html
<body>
  <button id="button">button</button>
  <script>
    const button=document.getElementById("button");
    button.addEventListener("click",()=>{
      Promise.resolve().then(()=>{console.log('m1');})
      console.log('l1');
    })
    button.addEventListener("click",()=>{
      Promise.resolve().then(()=>{console.log('m2');})
      console.log('l2');
    })
    button.click()
  </script>
</body>
// l1 
// l2
// m1 
// m2
```

