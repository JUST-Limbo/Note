{"compress":true,"commitItems":[["6e5c8d5d-e134-46f7-a005-a8a43da06de7",1588991926039,"",[[1588991923197,["Administrator@WIN-T3FPCJLTUH1",[[1,0,"# 组件属性设置不生效解决方法\n\n\n\n"]],[0,0],[18,18]]],[1588991931293,["Administrator@WIN-T3FPCJLTUH1",[[-1,18,"\n"],[1,19,"佛挡杀佛"]],[18,18],[22,22]]],[1588991933192,["Administrator@WIN-T3FPCJLTUH1",[[-1,18,"佛挡杀佛"],[1,22,"\n"]],[18,22],[18,18]]],[1588991954389,["Administrator@WIN-T3FPCJLTUH1",[[1,0,"---\nnote: 组件属性设置不生效解决方法\n---\n"]],[18,18],[46,46]]],[1588991972696,["Administrator@WIN-T3FPCJLTUH1",[[1,45,"当重复设置某些属性为相同的值时，不会同步到view层。 例如：每次将scroll-view组件的scroll-top属性值设置为0，只有第一次能顺利返回顶部。 这和props的单向数据流特性有关，组件内部scroll-top的实际值改动后，其绑定的属性并不会一同变化。\n\n解决办法有两种（以scroll-view组件为例）：\n\n*   监听scroll事件，记录组件内部变化的值，在设置新值之前先设置为记录的当前值\n\n```\n<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" @scroll=\"scroll\">\n```\n\n```\nexport default {\n    data() {\n        return {\n            scrollTop: 0,\n            old: {\n                scrollTop: 0\n            }\n        }\n    },\n    methods: {\n        scroll: function(e) {\n            this.old.scrollTop = e.detail.scrollTop\n        },\n        goTop: function(e) {\n            this.scrollTop = this.old.scrollTop\n            this.$nextTick(function() {\n                this.scrollTop = 0\n            });\n        }\n    }\n}\n```\n\n*   监听scroll事件，获取组件内部变化的值，实时更新其绑定值\n\n```\n<scroll-view :scroll-top=\"scrollTop\" scroll-y=\"true\" @scroll=\"scroll\">\n```\n\n```\nexport default {\n    data() {\n        return {\n            scrollTop: 0,\n        }\n    },\n    methods: {\n        scroll: function(e) {\n            this.scrollTop = e.detail.scrollTop\n        },\n        goTop: function(e) {\n            this.scrollTop = 0\n        }\n    }\n}\n```\n\n第二种解决方式在某些组件可能造成抖动，推荐第一种解决方式。"]],[45,45],[1215,1215]]],[1588991980704,["Administrator@WIN-T3FPCJLTUH1",[[-1,211,"  "]],[213,213],[211,211]]],[1588991985331,["Administrator@WIN-T3FPCJLTUH1",[[1,255,"html"]],[255,255],[259,259]]],[1588991989769,["Administrator@WIN-T3FPCJLTUH1",[[1,339,"javascript"]],[339,339],[349,349]]],[1588991993542,["Administrator@WIN-T3FPCJLTUH1",[[-1,803,"  "]],[804,804],[802,802]]],[1588991997145,["Administrator@WIN-T3FPCJLTUH1",[[1,838,"html"]],[838,838],[842,842]]],[1588992001207,["Administrator@WIN-T3FPCJLTUH1",[[1,922,"javascript"]],[922,922],[932,932]]]],null,"Administrator@WIN-T3FPCJLTUH1"]]}